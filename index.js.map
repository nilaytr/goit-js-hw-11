{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst API_KEY = \"48383034-506c7f8ffe99ad1c3f13eb63b\";\nconst BASE_URL = \"https://pixabay.com/api/?\";\n\nconst form = document.getElementById('search-form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nconst searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: \"\",\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: \"true\"\n});\n\nform.addEventListener(\"submit\", e => {\n    e.preventDefault();\n    loader.classList.add(\"loader\");\n    searchParams.set('q', e.currentTarget.elements.query.value.trim());\n    const url = `${BASE_URL}${searchParams.toString()}`;\n\n    fetch(url)\n        .then((response) => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n        .then((images) => {\n            if (images.hits.length <= 0) {\n                throw new Error(\"Sorry, there are no images matching your search query. Please try again!\");\n            }\n            const galleryMarkup = images.hits.map(({\n                webformatURL,\n                largeImageURL,\n                tags,\n                likes,\n                views,\n                comments,\n                downloads }) => {\n                return `<li class= \"gallery-list\">\n                <div class=\"gallery-div\">\n                   <a class= \"gallery-link\" href=\"${largeImageURL}\">\n                     <img src=\"${webformatURL}\"  alt=\"${tags}\" class=\"gallery-image\"/>\n                   </a>\n                </div>\n                <ul class=\"card-info\">\n                <li class=\"info-item\">\n                   <h3>Likes</h3>\n                   <p>${likes}</p>\n                </li>\n                <li class=\"info-item\">\n                  <h3>Views</h3>\n                  <p>${views}</p>\n                </li>\n                <li class=\"info-item\">\n                  <h3>Comments</h3>\n                  <p>${comments}</p>\n                </li>\n                <li class=\"info-item\">\n                   <h3>Downloads</h3>\n                   <p>${downloads}</p>\n                </li>\n                </ul>\n                </li>`;\n            }).join(\"\");\n\n            gallery.innerHTML = galleryMarkup;\n            loader.classList.remove('loader');\n            \n            const lightbox = new SimpleLightbox(\".gallery a\", {\n                captionsData: \"alt\",\n                captionDelay: 250,\n            });\n            lightbox.refresh();\n        })\n\n        .catch(error => {\n            iziToast.error({\n                message: `${error}`,\n                position: 'topRight',\n            });\n\n        gallery.innerHTML = \"\";\n        loader.classList.remove('loader');\n    });\n    form.reset();\n});\n\n"],"names":["API_KEY","BASE_URL","form","gallery","loader","searchParams","e","url","response","images","galleryMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","error","iziToast"],"mappings":"6vBAMA,MAAMA,EAAU,qCACVC,EAAW,4BAEXC,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAe,IAAI,gBAAgB,CACrC,IAAKL,EACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAC,EAEDE,EAAK,iBAAiB,SAAUI,GAAK,CACjCA,EAAE,eAAc,EAChBF,EAAO,UAAU,IAAI,QAAQ,EAC7BC,EAAa,IAAI,IAAKC,EAAE,cAAc,SAAS,MAAM,MAAM,KAAI,CAAE,EACjE,MAAMC,EAAM,GAAGN,CAAQ,GAAGI,EAAa,SAAU,CAAA,GAEjD,MAAME,CAAG,EACJ,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAMC,GAAW,CACd,GAAIA,EAAO,KAAK,QAAU,EACtB,MAAM,IAAI,MAAM,0EAA0E,EAE9F,MAAMC,EAAgBD,EAAO,KAAK,IAAI,CAAC,CACnC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,KACO;AAAA;AAAA,oDAE6BL,CAAa;AAAA,iCAChCD,CAAY,WAAWE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAMpCC,CAAK;AAAA;AAAA;AAAA;AAAA,uBAINC,CAAK;AAAA;AAAA;AAAA;AAAA,uBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,wBAIPC,CAAS;AAAA;AAAA;AAAA,sBAIpB,EAAE,KAAK,EAAE,EAEVd,EAAQ,UAAYO,EACpBN,EAAO,UAAU,OAAO,QAAQ,EAEf,IAAIc,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAC9B,CAAa,EACQ,QAAO,CAC5B,CAAS,EAEA,MAAMC,GAAS,CACZC,EAAS,MAAM,CACX,QAAS,GAAGD,CAAK,GACjB,SAAU,UAC1B,CAAa,EAELhB,EAAQ,UAAY,GACpBC,EAAO,UAAU,OAAO,QAAQ,CACxC,CAAK,EACDF,EAAK,MAAK,CACd,CAAC"}